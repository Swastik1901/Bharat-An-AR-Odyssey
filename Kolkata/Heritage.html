<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Heritage sites</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/motion@10.17.0/dist/motion.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Base styles from the landing page */
      body {
        font-family: "Inter", sans-serif;
        background-color: #1a0f0f;
        background-image: radial-gradient(ellipse at center, #4a2a2a, #1a0f0f);
        color: #d4af37;
      }

      .main-title {
        font-family: "Cinzel", serif;
        letter-spacing: 0.1em;
        text-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
      }

      /* Fading Sanskrit Shlokas in the background */
      .sloka-background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100vh;
        z-index: -1;
        overflow: hidden;
      }

      .sloka {
        position: absolute;
        font-family: "Cinzel", serif;
        font-size: 2vw;
        color: rgba(212, 175, 55, 0.15);
        opacity: 0;
        animation: fadeInOut 25s infinite;
        user-select: none;
        text-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
      }

      .sloka:nth-child(1) { top: 10%; left: 15%; animation-delay: 0s; }
      .sloka:nth-child(2) { top: 20%; left: 70%; animation-delay: 5s; font-size: 2.5vw; }
      .sloka:nth-child(3) { top: 50%; left: 40%; animation-delay: 10s; }
      .sloka:nth-child(4) { top: 80%; left: 80%; animation-delay: 15s; font-size: 1.8vw; }
      .sloka:nth-child(5) { top: 75%; left: 10%; animation-delay: 20s; }

      @keyframes fadeInOut {
        0%, 100% { opacity: 0; transform: translateY(10px); }
        50% { opacity: 0.7; transform: translateY(0); }
      }

      /* Search Box styles */
      .search-box {
        background-color: rgba(0, 0, 0, 0.3);
        border: 2px solid rgba(212, 175, 55, 0.4);
        color: #d4af37;
        transition: all 0.3s ease;
      }
      .search-box:focus {
        outline: none;
        border-color: #d4af37;
        box-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
      }

      /* --- NEW: Tab Button Styles --- */
      .tab-button {
        font-family: 'Cinzel', serif;
        padding: 1rem 2rem;
        flex: 1;
        text-align: center;
        cursor: pointer;
        font-size: 1.25rem;
        font-weight: 600;
        color: rgba(212, 175, 55, 0.6);
        border-right: 1px solid rgba(212, 175, 55, 0.3);
        transition: all 0.3s ease;
      }
      .tab-button:last-child {
        border-right: none;
      }
      .tab-button:hover {
        color: #D4AF37;
        background-color: rgba(212, 175, 55, 0.1);
      }
      .tab-button.active {
        color: #D4AF37;
        text-shadow: 0 0 10px rgba(212, 175, 55, 0.7);
        background-color: rgba(212, 175, 55, 0.05);
      }

      /* Tilted Card animation styles */
      .city-card-figure {
        position: relative;
        width: 100%;
        height: 100%;
        perspective: 800px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 1;
      }

      /* Back Button Styling */
      .back-button {
        position: fixed;
        top: 2rem;
        left: 2rem;
        z-index: 10;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background-color: rgba(26, 15, 15, 0.6);
        border: 1px solid rgba(212, 175, 55, 0.3);
        color: #d4af37;
        backdrop-filter: blur(8px);
        transition: all 0.3s ease;
      }
      .back-button:hover {
        background-color: rgba(212, 175, 55, 0.2);
        border-color: #d4af37;
        transform: scale(1.1);
      }
      .back-button svg {
        width: 24px;
        height: 24px;
      }

      /* Dimmed Glowing Effect */
      .city-card-figure::before {
        content: "";
        position: absolute;
        inset: -5px;
        z-index: -1;
        border-radius: calc(0.75rem + 5px);
        background-image: linear-gradient(45deg, #d4af37, #ffd700);
        filter: blur(20px);
        opacity: 0;
        transition: opacity 0.4s ease;
        transform: translateZ(-1px);
      }
      .city-card-figure:hover::before {
        opacity: 0.25;
      }

      .city-card-inner {
        position: relative;
        transform-style: preserve-3d;
        background-color: rgba(26, 15, 15, 0.6);
        backdrop-filter: blur(10px);
        border-radius: 0.75rem;
        padding: 1rem;
        border: 1px solid rgba(212, 175, 55, 0.3);
        will-change: transform;
        width: 100%;
        height: 100%;
        transition: border-color 0.3s ease;
      }

      .city-card-figure:hover .city-card-inner {
        border-color: rgba(212, 175, 55, 0.6);
      }

      .city-card-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 0.375rem;
      }

      /* Card content overlay style */
      .card-content {
        position: absolute;
        bottom: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        font-family: "Cinzel", serif;
        text-shadow: 0 1px 5px rgba(0, 0, 0, 0.7);
        background-color: rgba(0, 0, 0, 0.4);
        padding: 0.25rem 1rem;
        border-radius: 0.375rem;
        width: max-content;
        max-width: 90%;
        backdrop-filter: blur(3px);
        border: 1px solid rgba(212, 175, 55, 0.2);
      }
    </style>
  </head>
  <body class="p-4 sm:p-8 relative">
    <a href="../Cities.html" class="back-button" aria-label="Go back">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
      </svg>
    </a>

    <div class="absolute top-4 right-4 sm:top-8 sm:right-8 z-10">
      <a href="../Login.html" id="login-link" class="bg-red-900 text-[#D4AF37] font-['Cinzel'] font-bold py-2 px-6 rounded-lg hover:bg-red-800 transition-colors duration-300 text-sm">
        Login
      </a>
      <div id="user-profile" class="hidden items-center space-x-4">
        <span class="text-white text-lg">Welcome, <span id="user-name" class="font-bold"></span>!</span>
        <button id="logout-btn" class="bg-red-900 text-[#D4AF37] font-['Cinzel'] font-bold py-2 px-6 rounded-lg hover:bg-red-800 transition-colors duration-300 text-sm">Logout</button>
      </div>
    </div>

    <div class="sloka-background">
      <span class="sloka">ॐ सर्वे भवन्तु सुखिनः</span>
      <span class="sloka">सत्यमेव जयते</span>
      <span class="sloka">अहिंसा परमो धर्मः</span>
      <span class="sloka">वसुधैव कुटुम्बकम्</span>
      <span class="sloka">यतो धर्मस्ततो जयः</span>
    </div>

    <main class="container mx-auto text-center">
      <h1 class="main-title text-3xl sm:text-4xl md:text-5xl font-bold mb-4 mt-8">
        Explore The Heritage sites
      </h1>

      <div class="mb-8">
        <input type="text" id="citySearch" onkeyup="searchheritage()" placeholder="Search for a heritage..." class="search-box w-full max-w-lg mx-auto py-3 px-6 rounded-lg text-lg tracking-wider" />
      </div>

      <div class="mb-12 max-w-4xl mx-auto flex justify-center border-y border-yellow-800/50">
          <button id="sites-btn" onclick="showSection('sites')" class="tab-button active">SITES</button>
          <button id="map-btn" onclick="showSection('map')" class="tab-button">MAP</button>
          <button id="shop-btn" onclick="showSection('shop')" class="tab-button">SHOP</button>
      </div>

      <div id="sites-content">
        <div id="cityGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10 md:gap-12">
            <a href="Howrah/Howrah.html">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="Howrahheritage.jpeg" alt="Howrah" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Howrah</h3>
                    </div>
                </figure>
            </a>
            <a href="Shaheed Minar/Shaheed.html">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="../Kolkata/Shaheed.jpg" alt="Shaheed Minar" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Shaheed minar</h3>
                    </div>
                </figure>
            </a>
            <a href="Prince ghat/Prince.html">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="../Kolkata/PrinsepGhat.jpeg" alt="Prinsep Ghat" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Prinsep ghat</h3>
                    </div>
                </figure>
            </a>
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=Victoria" alt="Victoria Memorial" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Victoria Memorial</h3>
                    </div>
                </figure>
            </a>
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=Kalighat" alt="Kalighat" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Kalighat</h3>
                    </div>
                </figure>
            </a>
        </div>
      </div>

      <div id="map-content" class="hidden">
        <div class="w-full h-[60vh] rounded-lg overflow-hidden border-2 border-yellow-800/50">
            <iframe title="Kolkata India - city and urban" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/ceb808acead74b3eb31269f7f1ec2562/embed" width="100%" height="100%"> </iframe>
        </div>
        <p class="text-xs text-center mt-2 text-yellow-500/50">
            <a href="https://sketchfab.com/3d-models/kolkata-india-city-and-urban-ceb808acead74b3eb31269f7f1ec2562?utm_medium=embed&utm_campaign=share-popup&utm_content=ceb808acead74b3eb31269f7f1ec2562" target="_blank" rel="nofollow" class="hover:text-yellow-500"> Kolkata India - city and urban </a> by 
            <a href="https://sketchfab.com/jindaarch?utm_medium=embed&utm_campaign=share-popup&utm_content=ceb808acead74b3eb31269f7f1ec2562" target="_blank" rel="nofollow" class="hover:text-yellow-500"> Jinda </a> on 
            <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=ceb808acead74b3eb31269f7f1ec2562" target="_blank" rel="nofollow" class="hover:text-yellow-500">Sketchfab</a>
        </p>
      </div>
      <div id="shop-content" class="hidden">
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10 md:gap-12">
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=Miniature" alt="Souvenir 1" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Heritage Miniature</h3>
                    </div>
                </figure>
            </a>
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=T-Shirt" alt="Souvenir 2" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Cultural T-Shirt</h3>
                    </div>
                </figure>
            </a>
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=Art+Print" alt="Souvenir 3" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">Art Print</h3>
                    </div>
                </figure>
            </a>
            <a href="#">
                <figure class="city-card-wrapper city-card-figure h-72">
                    <div class="city-card-inner">
                        <img src="https://placehold.co/400x300/4a2a2a/D4AF37?text=History+Book" alt="Souvenir 4" class="city-card-img" />
                        <h3 class="card-content text-xl font-bold">History Book</h3>
                    </div>
                </figure>
            </a>
        </div>
      </div>

    </main>

    <script>
      // === NEW: Tab Switching Logic ===
      function showSection(sectionName) {
        // Hide all content sections
        document.getElementById('sites-content').classList.add('hidden');
        document.getElementById('map-content').classList.add('hidden');
        document.getElementById('shop-content').classList.add('hidden');

        // Deactivate all tab buttons
        document.getElementById('sites-btn').classList.remove('active');
        document.getElementById('map-btn').classList.remove('active');
        document.getElementById('shop-btn').classList.remove('active');

        // Show the selected section and activate its button
        document.getElementById(sectionName + '-content').classList.remove('hidden');
        document.getElementById(sectionName + '-btn').classList.add('active');
      }

      // Search functionality
      function searchheritage() {
        let input = document.getElementById("citySearch");
        let filter = input.value.toUpperCase();
        let grid = document.getElementById("cityGrid");
        let cards = grid.getElementsByTagName("a");

        for (let i = 0; i < cards.length; i++) {
          let h3 = cards[i].getElementsByTagName("h3")[0];
          if (h3) {
            let txtValue = h3.textContent || h3.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
              cards[i].style.display = "";
            } else {
              cards[i].style.display = "none";
            }
          }
        }
      }

      // Tilted Card Animation Logic
      document.addEventListener("DOMContentLoaded", () => {
        const cards = document.querySelectorAll(".city-card-figure");

        cards.forEach((card) => {
          const cardInner = card.querySelector(".city-card-inner");
          const rotateAmplitude = 12;
          const scaleOnHover = 1.05;

          const { spring } = motion;

          const rotateX = spring(0, { stiffness: 100, damping: 30, mass: 2 });
          const rotateY = spring(0, { stiffness: 100, damping: 30, mass: 2 });
          const scale = spring(1, { stiffness: 100, damping: 30, mass: 2 });

          card.addEventListener("mousemove", (e) => {
            const rect = card.getBoundingClientRect();
            const offsetX = e.clientX - rect.left - rect.width / 2;
            const offsetY = e.clientY - rect.top - rect.height / 2;
            const rotationX = (offsetY / (rect.height / 2)) * -rotateAmplitude;
            const rotationY = (offsetX / (rect.width / 2)) * rotateAmplitude;
            rotateX.set(rotationX);
            rotateY.set(rotationY);
          });

          card.addEventListener("mouseenter", () => {
            scale.set(scaleOnHover);
          });

          card.addEventListener("mouseleave", () => {
            scale.set(1);
            rotateX.set(0);
            rotateY.set(0);
          });

          motion.animate(
            () => {
              cardInner.style.transform = `scale(${scale.get()}) rotateX(${rotateX.get()}deg) rotateY(${rotateY.get()}deg)`;
            }, { duration: Infinity }
          );
        });
      });
    </script>
    <script>
      // Login/Logout Logic
      document.addEventListener('DOMContentLoaded', () => {
        const token = localStorage.getItem('token');
        const userName = localStorage.getItem('name');
        const loginLink = document.getElementById('login-link');
        const userProfile = document.getElementById('user-profile');
        const userNameSpan = document.getElementById('user-name');
        const logoutBtn = document.getElementById('logout-btn');

        if (token && userName) {
          loginLink.classList.add('hidden');
          userProfile.classList.remove('hidden');
          userProfile.style.display = 'flex';
          userNameSpan.textContent = userName;
          logoutBtn.addEventListener('click', () => {
            localStorage.removeItem('token');
            localStorage.removeItem('name');
            window.location.href = 'Heritage.html';
          });
        }
      });
    </script>
  </body>
</html>